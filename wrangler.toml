name = "cf-worker-friend-circle"
main = "worker.js"
compatibility_date = "2025-07-17"
compatibility_flags = ["nodejs_compat"]

[build]
command = "npm install && npm run build"

[build.upload]
format = "modules"
main = "./worker.js"

[build.upload.rules]
type = "ESModule"

[dependencies]
"yaml" = "^2.3"
"fast-xml-parser" = "^4.2"

[vars]
FRIENDS_YAML_URL = "https://blog.xanz.one/data/friends.yaml"
# CACHE_TTL = ""
# MAX_ENTRIES = ""
# DAYS_LIMIT = ""   
# REQUEST_TIMEOUT = ""
#SUMMARY_LIMIT = ""
